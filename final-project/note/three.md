# 将单线程server变为多线程server

- 目前 server 会依次处理每一个请求，意味着它在完成第一个连接的处理之前不会处理第二个连接。如果 server 正接收越来越多的请求，这类串行操作会使性能越来越差

## 在当前server实现中模拟慢请求

- 通过模拟慢响应实现/sleep请求处理，使得server在响应之前休眠5s

- 我们目前的server库还很原始，真实的库将会以更简洁的方式处理多请求识别问题
  
## 使用线程池改善吞吐量

- 线程池是一组预先分配的等待或准备处理任务的线程

- 通过线程池的设计，则可以处理N个请求，N：线程数

- fork/join

- 单线程异步I/O模型

- 编译器驱动开发

## 为每一个请求分配线程的代码结构

- thread::spawn

